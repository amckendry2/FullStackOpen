{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport CreateReviewForm from \"./CreateReviewForm\";\nimport { useMutation } from '@apollo/client';\nimport { CREATE_REVIEW } from \"../../graphql/mutations\";\nimport { useNavigate } from 'react-router-native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar CreateReview = function CreateReview() {\n  var _useMutation = useMutation(CREATE_REVIEW),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createReview = _useMutation2[0];\n\n  var navigate = useNavigate();\n\n  var handleSubmitReview = function handleSubmitReview(_ref) {\n    var repositoryName, respositoryOwner, rating, review, _await$createReview, repository;\n\n    return _regeneratorRuntime.async(function handleSubmitReview$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            repositoryName = _ref.repositoryName, respositoryOwner = _ref.respositoryOwner, rating = _ref.rating, review = _ref.review;\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(createReview({\n              variables: {\n                review: {\n                  respositoryName: respositoryName,\n                  ownerName: respositoryOwner,\n                  rating: parseInt(rating),\n                  review: review\n                }\n              }\n            }));\n\n          case 4:\n            _await$createReview = _context.sent;\n            repository = _await$createReview.repository;\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 8]], Promise);\n  };\n\n  return _jsx(CreateReviewForm, {\n    onSubmit: function onSubmit() {\n      return console.log('form submitted');\n    }\n  });\n};\n\nexport default CreateReview;","map":{"version":3,"sources":["/home/fuzzy-dunlop/Desktop/react-projects/rate-repository-app/src/components/CreateReview/index.jsx"],"names":["CreateReviewForm","useMutation","CREATE_REVIEW","useNavigate","CreateReview","createReview","navigate","handleSubmitReview","repositoryName","respositoryOwner","rating","review","variables","respositoryName","ownerName","parseInt","repository","console","log"],"mappings":";;AAAA,OAAOA,gBAAP;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,aAAT;AACA,SAASC,WAAT,QAA4B,qBAA5B;;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAE1B,qBAAyBH,WAAW,CAACC,aAAD,CAApC;AAAA;AAAA,MAAQG,YAAR;;AACA,MAAMC,QAAQ,GAAGH,WAAW,EAA5B;;AAEA,MAAMI,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,cAAT,QAASA,cAAT,EAAyBC,gBAAzB,QAAyBA,gBAAzB,EAA2CC,MAA3C,QAA2CA,MAA3C,EAAmDC,MAAnD,QAAmDA,MAAnD;AAAA;AAAA;AAAA,6CAEIN,YAAY,CAAC;AACzCO,cAAAA,SAAS,EAAE;AACVD,gBAAAA,MAAM,EAAE;AACPE,kBAAAA,eAAe,EAAEA,eADV;AAEPC,kBAAAA,SAAS,EAAEL,gBAFJ;AAGPC,kBAAAA,MAAM,EAAEK,QAAQ,CAACL,MAAD,CAHT;AAIPC,kBAAAA,MAAM,EAAEA;AAJD;AADE;AAD8B,aAAD,CAFhB;;AAAA;AAAA;AAEjBK,YAAAA,UAFiB,uBAEjBA,UAFiB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAczBC,YAAAA,OAAO,CAACC,GAAR;;AAdyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAiBA,SAAO,KAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAE;AAAA,aAAMD,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAAN;AAAA;AAA5B,IAAP;AACA,CAvBD;;AAyBA,eAAed,YAAf","sourcesContent":["import CreateReviewForm from './CreateReviewForm'\nimport { useMutation } from '@apollo/client'\nimport { CREATE_REVIEW } from '../../graphql/mutations'\nimport { useNavigate } from 'react-router-native'\n\nconst CreateReview = () => {\n\n\tconst [ createReview ] = useMutation(CREATE_REVIEW)\n\tconst navigate = useNavigate()\n\n\tconst handleSubmitReview = async ({ repositoryName, respositoryOwner, rating, review }) => {\n\t\ttry {\n\t\t\tconst { repository } = await createReview({\n\t\t\t\tvariables: {\n\t\t\t\t\treview: {\n\t\t\t\t\t\trespositoryName: respositoryName,\n\t\t\t\t\t\townerName: respositoryOwner,\n\t\t\t\t\t\trating: parseInt(rating),\n\t\t\t\t\t\treview: review\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t} catch(err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\treturn <CreateReviewForm onSubmit={() => console.log('form submitted')}/>\n}\n\nexport default CreateReview"]},"metadata":{},"sourceType":"module"}