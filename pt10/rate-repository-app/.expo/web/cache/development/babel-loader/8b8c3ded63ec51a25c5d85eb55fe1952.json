{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { format } from 'date-fns';\nimport theme from \"../../theme\";\nimport ThemedText from \"../ThemedText\";\nimport { useNavigate } from 'react-router-native';\nimport { useApolloClient, useMutation } from '@apollo/client';\nimport { DELETE_REVIEW } from \"../../graphql/mutations\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar style = StyleSheet.create({\n  buttonText: {\n    alignSelf: 'center',\n    color: 'white'\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    marginTop: 10,\n    borderRadius: 3,\n    padding: 5,\n    width: 80,\n    margin: 10\n  }\n});\n\nvar ReviewItem = function ReviewItem(_ref) {\n  var review = _ref.review,\n      userView = _ref.userView;\n  var navigate = useNavigate();\n\n  var _useMutation = useMutation(DELETE_REVIEW),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      deleteReview = _useMutation2[0];\n\n  var client = useApolloClient();\n\n  var handleGoToRepo = function handleGoToRepo() {\n    navigate(\"/repos/\" + review.repository.id);\n  };\n\n  var handleDelete = function handleDelete() {\n    return _regeneratorRuntime.async(function handleDelete$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            Alert.alert(\"Delete Review\", \"are you sure you want to delete this review?\", [{\n              text: \"CANCEL\",\n              onPress: function onPress() {\n                return console.log(\"cancel\");\n              }\n            }, {\n              text: \"OK\",\n              onPress: function onPress() {\n                return _regeneratorRuntime.async(function onPress$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _regeneratorRuntime.awrap(deleteReview({\n                          variables: {\n                            id: review.id\n                          }\n                        }));\n\n                      case 2:\n                        client.refetchQueries();\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }\n            }]);\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(_Fragment, {\n    children: [_jsxs(View, {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        margin: 10\n      },\n      children: [_jsx(View, {\n        style: {\n          display: 'flex',\n          width: 40,\n          height: 40,\n          borderRadius: 20,\n          borderWidth: 3,\n          borderColor: theme.colors.primary,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: _jsx(ThemedText, {\n          color: \"primary\",\n          fontWeight: \"bold\",\n          fontSize: \"subheading\",\n          children: review.rating\n        })\n      }), _jsxs(View, {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          width: 300,\n          marginLeft: 10\n        },\n        children: [_jsx(ThemedText, {\n          fontSize: \"subheading\",\n          fontWeight: \"bold\",\n          children: userView ? review.repository.fullName : review.user.username\n        }), _jsx(ThemedText, {\n          withPadding: true,\n          children: format(new Date(review.createdAt), 'MM/dd/yyyy')\n        }), _jsx(ThemedText, {\n          children: review.text\n        })]\n      })]\n    }), _jsxs(View, {\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      },\n      children: [_jsx(Pressable, {\n        style: style.button,\n        onPress: handleGoToRepo,\n        children: _jsx(ThemedText, {\n          style: style.buttonText,\n          children: \"Repository\"\n        })\n      }), _jsx(Pressable, {\n        style: [style.button, {\n          backgroundColor: 'red'\n        }],\n        onPress: handleDelete,\n        children: _jsx(ThemedText, {\n          style: style.buttonText,\n          children: \"Delete\"\n        })\n      })]\n    })]\n  });\n};\n\nexport default ReviewItem;","map":{"version":3,"sources":["/home/fuzzy-dunlop/Desktop/react-projects/rate-repository-app/src/components/RepositoryList/ReviewItem.jsx"],"names":["format","theme","ThemedText","useNavigate","useApolloClient","useMutation","DELETE_REVIEW","style","StyleSheet","create","buttonText","alignSelf","color","button","backgroundColor","colors","primary","marginTop","borderRadius","padding","width","margin","ReviewItem","review","userView","navigate","deleteReview","client","handleGoToRepo","repository","id","handleDelete","Alert","alert","text","onPress","console","log","variables","refetchQueries","display","flexDirection","height","borderWidth","borderColor","alignItems","justifyContent","rating","marginLeft","fullName","user","username","Date","createdAt"],"mappings":"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","sourcesContent":["import { View, Pressable, Alert, StyleSheet } from 'react-native'\nimport { format } from 'date-fns'\nimport theme from '../../theme'\nimport ThemedText from '../ThemedText'\nimport { useNavigate } from 'react-router-native'\nimport { useApolloClient, useMutation } from '@apollo/client'\nimport { DELETE_REVIEW } from '../../graphql/mutations'\n\nconst style = StyleSheet.create({\n\tbuttonText: {\n\t\talignSelf: 'center',\n\t\tcolor: 'white'\n\t},\n\tbutton: {\n\t\tbackgroundColor: theme.colors.primary,\n\t\tmarginTop: 10,\n\t\tborderRadius: 3,\n\t\tpadding: 5,\n\t\twidth: 80,\n\t\tmargin: 10\n\t},\n})\n\n\nconst ReviewItem = ({ review, userView }) => {\n\n\tconst navigate = useNavigate()\n\tconst [deleteReview] = useMutation(DELETE_REVIEW)\n\tconst client = useApolloClient()\n\n\tconst handleGoToRepo = () => {\n\t\tnavigate(`/repos/${review.repository.id}`)\n\t}\n\n\tconst handleDelete = async () => {\n\t\tAlert.alert(\n\t\t\t\"Delete Review\",\n\t\t\t\"are you sure you want to delete this review?\",\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\ttext: \"CANCEL\",\n\t\t\t\t\tonPress: () => console.log(\"cancel\")\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: \"OK\",\n\t\t\t\t\tonPress: async () => {\n\t\t\t\t\t\tawait deleteReview({ \n\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\tid: review.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tclient.refetchQueries()\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t]\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t<View style={{\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tmargin: 10\n\t\t}}>\n\t\t\t<View style={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\twidth: 40,\n\t\t\t\theight: 40,\n\t\t\t\tborderRadius: 20,\n\t\t\t\tborderWidth: 3,\n\t\t\t\tborderColor: theme.colors.primary,\n\t\t\t\talignItems: 'center',\n\t\t\t\tjustifyContent: 'center'\n\t\t\t}}>\n\t\t\t\t<ThemedText\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfontWeight='bold'\n\t\t\t\t\tfontSize='subheading'\n\t\t\t\t>\n\t\t\t\t\t{review.rating}\n\t\t\t\t</ThemedText>\n\t\t\t</View>\n\t\t\t<View style={{\n\t\t\t\tdisplay: 'flex', \n\t\t\t\tflexDirection:'column',\n\t\t\t\twidth: 300,\n\t\t\t\tmarginLeft: 10,\n\t\t\t}}>\n\t\t\t\t<ThemedText\n\t\t\t\t\tfontSize='subheading'\n\t\t\t\t\tfontWeight='bold'\n\t\t\t\t>\n\t\t\t\t\t{userView \n\t\t\t\t\t\t? review.repository.fullName \n\t\t\t\t\t\t: review.user.username \n\t\t\t\t\t}\n\t\t\t\t</ThemedText>\n\t\t\t\t<ThemedText withPadding>\n\t\t\t\t\t{format(new Date(review.createdAt), 'MM/dd/yyyy')}\n\t\t\t\t</ThemedText>\n\t\t\t\t<ThemedText>\n\t\t\t\t\t{review.text}\n\t\t\t\t</ThemedText>\n\t\t\t</View>\n\t\t</View>\n\t\t<View style={{display: 'flex', flexDirection: 'row'}}>\n\t\t<Pressable \n\t\t\tstyle={style.button}\n\t\t\tonPress={handleGoToRepo}\n\t\t>\n\t\t\t<ThemedText style={style.buttonText}>\n\t\t\t\t\tRepository\n\t\t\t</ThemedText>\t\t\t\n\t\t</Pressable>\n\t\t<Pressable \n\t\t\tstyle={[style.button, {backgroundColor: 'red'}]}\n\t\t\tonPress={handleDelete}\n\t\t>\n\t\t\t<ThemedText style={style.buttonText}>\n\t\t\t\t\tDelete\n\t\t\t</ThemedText>\t\t\t\n\t\t</Pressable>\n\t\t</View>\n\t\t</>\n\t)\n}\n\nexport default ReviewItem"]},"metadata":{},"sourceType":"module"}