{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useMutation } from \"@apollo/client\";\nimport useSignIn from \"../../hooks/useSignIn\";\nimport SignUpForm from \"./SignUpForm\";\nimport { CREATE_USER } from \"../../graphql/mutations\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar SignUp = function SignUp() {\n  var _useSignIn = useSignIn(),\n      signIn = _useSignIn.signIn;\n\n  var _useMutation = useMutation(CREATE_USER),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      signUp = _useMutation2[0];\n\n  var onSubmit = function onSubmit(userParams) {\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(signUp({\n              variables: {\n                user: userParams\n              }\n            }));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(signIn(userParams));\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return _jsx(SignUpForm, {\n    onSubmit: onSubmit\n  });\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/fuzzy-dunlop/Desktop/react-projects/rate-repository-app/src/components/SignUp/index.jsx"],"names":["useMutation","useSignIn","SignUpForm","CREATE_USER","SignUp","signIn","signUp","onSubmit","userParams","variables","user","console","log"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,SAAP;AACA,OAAOC,UAAP;AACA,SAASC,WAAT;;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAEpB,mBAAmBH,SAAS,EAA5B;AAAA,MAAQI,MAAR,cAAQA,MAAR;;AACA,qBAAiBL,WAAW,CAACG,WAAD,CAA5B;AAAA;AAAA,MAAOG,MAAP;;AAEA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAMC,UAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAETF,MAAM,CAAC;AACZG,cAAAA,SAAS,EAAE;AACVC,gBAAAA,IAAI,EAAEF;AADI;AADC,aAAD,CAFG;;AAAA;AAAA;AAAA,6CAOTH,MAAM,CAACG,UAAD,CAPG;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AASfG,YAAAA,OAAO,CAACC,GAAR;;AATe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAaA,SAAO,KAAC,UAAD;AAAY,IAAA,QAAQ,EAAEL;AAAtB,IAAP;AACA,CAnBD;;AAqBA,eAAeH,MAAf","sourcesContent":["import { useMutation } from \"@apollo/client\";\nimport useSignIn from \"../../hooks/useSignIn\";\nimport SignUpForm from \"./SignUpForm\";\nimport { CREATE_USER } from '../../graphql/mutations'\n\n\nconst SignUp = () => {\n\n\tconst { signIn } = useSignIn()\n\tconst [signUp] = useMutation(CREATE_USER)\n\n\tconst onSubmit = async userParams => {\n\t\ttry {\n\t\t\tawait signUp({\n\t\t\t\tvariables: {\n\t\t\t\t\tuser: userParams\n\t\t\t\t}\n\t\t\t})\n\t\t\tawait signIn(userParams)\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\n\treturn <SignUpForm onSubmit={onSubmit} />\n}\n\nexport default SignUp"]},"metadata":{},"sourceType":"module"}