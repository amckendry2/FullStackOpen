{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useMutation } from \"@apollo/client\";\nimport useSignIn from \"../../hooks/useSignIn\";\nimport SignUpForm from \"./SignUpForm\";\nimport { CREATE_USER } from \"../../graphql/mutations\";\nimport { useNavigate } from \"react-router-native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar SignUp = function SignUp() {\n  var _useSignIn = useSignIn(),\n      _useSignIn2 = _slicedToArray(_useSignIn, 1),\n      signIn = _useSignIn2[0];\n\n  var _useMutation = useMutation(CREATE_USER),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      signUp = _useMutation2[0];\n\n  var navigate = useNavigate();\n\n  var onSubmit = function onSubmit(_ref) {\n    var username, password, userParams;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            username = _ref.username, password = _ref.password;\n            userParams = {\n              username: username,\n              password: password\n            };\n            _context.prev = 2;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(signUp({\n              variables: {\n                user: userParams\n              }\n            }));\n\n          case 5:\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(signIn(userParams));\n\n          case 7:\n            navigate('/');\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](2);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[2, 10]], Promise);\n  };\n\n  return _jsx(SignUpForm, {\n    onSubmit: onSubmit\n  });\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/fuzzy-dunlop/Desktop/react-projects/rate-repository-app/src/components/SignUp/index.jsx"],"names":["useMutation","useSignIn","SignUpForm","CREATE_USER","useNavigate","SignUp","signIn","signUp","navigate","onSubmit","username","password","userParams","variables","user","console","log"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,SAAP;AACA,OAAOC,UAAP;AACA,SAASC,WAAT;AACA,SAASC,WAAT,QAA4B,qBAA5B;;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAEpB,mBAAiBJ,SAAS,EAA1B;AAAA;AAAA,MAAOK,MAAP;;AACA,qBAAiBN,WAAW,CAACG,WAAD,CAA5B;AAAA;AAAA,MAAOI,MAAP;;AACA,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;;AAEA,MAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,QAAT,QAASA,QAAT,EAAmBC,QAAnB,QAAmBA,QAAnB;AACVC,YAAAA,UADU,GACG;AAACF,cAAAA,QAAQ,EAARA,QAAD;AAAWC,cAAAA,QAAQ,EAARA;AAAX,aADH;AAAA;AAAA;AAAA,6CAGTJ,MAAM,CAAC;AACZM,cAAAA,SAAS,EAAE;AACVC,gBAAAA,IAAI,EAAEF;AADI;AADC,aAAD,CAHG;;AAAA;AAAA;AAAA,6CAQTN,MAAM,CAACM,UAAD,CARG;;AAAA;AASfJ,YAAAA,QAAQ,CAAC,GAAD,CAAR;AATe;AAAA;;AAAA;AAAA;AAAA;AAWfO,YAAAA,OAAO,CAACC,GAAR;;AAXe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAeA,SAAO,KAAC,UAAD;AAAY,IAAA,QAAQ,EAAEP;AAAtB,IAAP;AACA,CAtBD;;AAwBA,eAAeJ,MAAf","sourcesContent":["import { useMutation } from \"@apollo/client\";\nimport useSignIn from \"../../hooks/useSignIn\";\nimport SignUpForm from \"./SignUpForm\";\nimport { CREATE_USER } from '../../graphql/mutations'\nimport { useNavigate } from \"react-router-native\";\n\n\nconst SignUp = () => {\n\n\tconst [signIn] = useSignIn()\n\tconst [signUp] = useMutation(CREATE_USER)\n\tconst navigate = useNavigate()\n\n\tconst onSubmit = async ({ username, password }) => {\n\t\tconst userParams = {username, password}\n\t\ttry {\n\t\t\tawait signUp({\n\t\t\t\tvariables: {\n\t\t\t\t\tuser: userParams\n\t\t\t\t}\n\t\t\t})\n\t\t\tawait signIn(userParams)\n\t\t\tnavigate('/')\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\n\treturn <SignUpForm onSubmit={onSubmit} />\n}\n\nexport default SignUp"]},"metadata":{},"sourceType":"module"}