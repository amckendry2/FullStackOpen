{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","services/entries.js","App.js","index.js"],"names":["filter","value","onChange","personForm","nameVal","nameChanged","numVal","numChanged","onSubmit","type","persons","entries","handleDelete","map","p","name","number","onClick","id","baseUrl","api","getAll","axios","get","then","res","data","create","obj","post","update","put","remove","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","useEffect","entryService","catch","err","console","log","displayedEntries","length","toLowerCase","includes","Filter","e","target","PersonForm","preventDefault","oldEntry","find","window","confirm","newEntry","response","Persons","entryName","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9013c952.chunk.js","sourcesContent":["import React from \"react\";\n\nconst filter = ({value, onChange}) => (\n    <div>\n    <h3>Filter Entries:</h3>\n    by name: <input value={value} onChange={onChange}/>\n    </div>\n)\n\nexport default filter","import React from \"react\";\n\nconst personForm = ({nameVal, nameChanged, numVal, numChanged, onSubmit}) => (\n    <div>\n    <h3>Add New Entry: </h3>\n    <form onSubmit={onSubmit}>    \n        <div>\n            name: <input value={nameVal} onChange={nameChanged}/>\n        </div>\n        <div>\n            number: <input value={numVal} onChange={numChanged}/>\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n    </div>\n)\n\nexport default personForm","import React from \"react\";\n\nconst persons = ({entries, handleDelete}) => (\n    <div>\n    <h3>Numbers</h3>\n    <ul>\n        {entries.map( p => \n            <li key={p.name}>\n                {p.name + \": \" + p.number}\n                <button onClick={() => handleDelete(p.id)}>delete</button>\n            </li>\n        )}\n    </ul>\n    </div>\n)\n\nexport default persons;","import axios from 'axios';\nconst baseUrl = \"api/persons\";\n\nconst getAll = () => \n    axios.get(baseUrl).then(res => res.data)\n\nconst create = obj => \n    axios.post(baseUrl, obj).then(res=>res.data)\n\nconst update = (id, obj) => \n    axios.put(`${baseUrl}/${id}`, obj).then(res=>res.data)\n\nconst remove = id => \n    axios.delete(`${baseUrl}/${id}`)\n\nconst api = {getAll, create, update, remove}\nexport default api;","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport entryService from './services/entries'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setNewFilter] = useState('')\n\n  useEffect(() => {\n    entryService\n      .getAll()\n      .then(data => setPersons(data))\n      .catch(err => console.log(err))\n  }, [])\n\n  const handleNameChange = e => setNewName(e.target.value)\n  const handleNumberChange = e => setNewNumber(e.target.value)\n  const handleFilterChange = e => setNewFilter(e.target.value)\n\n  \n  const handleAddEntry = e => {\n    e.preventDefault()\n    const oldEntry = persons.find(p => p.name === newName);\n    if(oldEntry && window.confirm(`${newName} is already in the phonebook. Replace the old number with a new one?`)){\n      const newEntry = {...oldEntry, number: newNumber};\n      entryService\n        .update(oldEntry.id, newEntry)\n        .then(data => \n            setPersons(persons.map(p => p.id === data.id ? newEntry : p)))\n        .catch(err => console.log(err))\n    } else {\n      entryService\n        .create({name: newName, number: newNumber})\n        .then(data => setPersons([...persons, data]))\n        .catch(err => console.log(err.response.data))\n    }\n  }\n\n  const handleDeleteEntry = id => {\n    const entryName = persons.find(e => e.id === id).name;\n    if(window.confirm(`Delete ${entryName}?`)){\n      entryService\n        .remove(id)\n        .then(setPersons(persons.filter(p => p.id !== id)))\n        .catch(err => console.log(err))\n    }\n  }\n\n  const displayedEntries = filter.length > 0 ? \n    persons.filter( p => \n      p.name.toLowerCase().includes(filter.toLowerCase())) \n    : \n    persons\n\n\n  return (\n    <div>\n\n    <h2>Phonebook</h2>\n\n    <Filter value={filter} onChange={handleFilterChange}/>\n    \n    <PersonForm \n      nameVal={newName} \n      nameChanged={handleNameChange}\n      numVal={newNumber}\n      numChanged={handleNumberChange}\n      onSubmit={handleAddEntry}\n    />\n    \n    <Persons entries={displayedEntries} handleDelete={handleDeleteEntry}/>\n    \n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}