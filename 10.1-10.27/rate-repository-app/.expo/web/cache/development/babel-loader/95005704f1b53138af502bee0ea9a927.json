{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useMutation } from \"@apollo/client\";\nimport useSignIn from \"../../hooks/useSignIn\";\nimport SignUpForm from \"./SignUpForm\";\nimport { CREATE_USER } from \"../../graphql/mutations\";\nimport { useNavigate } from \"react-router-native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar SignUp = function SignUp() {\n  var _useSignIn = useSignIn(),\n      _useSignIn2 = _slicedToArray(_useSignIn, 1),\n      signIn = _useSignIn2[0];\n\n  var _useMutation = useMutation(CREATE_USER),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      signUp = _useMutation2[0];\n\n  var navigate = useNavigate();\n\n  var onSubmit = function onSubmit(userParams) {\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(signUp({\n              variables: {\n                user: {\n                  username: userParams.username,\n                  password: userParams.password\n                }\n              }\n            }));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(signIn(userParams));\n\n          case 5:\n            navigate('/');\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  return _jsx(SignUpForm, {\n    onSubmit: onSubmit\n  });\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/fuzzy-dunlop/Desktop/react-projects/rate-repository-app/src/components/SignUp/index.jsx"],"names":["useMutation","useSignIn","SignUpForm","CREATE_USER","useNavigate","SignUp","signIn","signUp","navigate","onSubmit","userParams","variables","user","username","password","console","log"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,SAAP;AACA,OAAOC,UAAP;AACA,SAASC,WAAT;AACA,SAASC,WAAT,QAA4B,qBAA5B;;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAEpB,mBAAmBJ,SAAS,EAA5B;AAAA;AAAA,MAAQK,MAAR;;AACA,qBAAiBN,WAAW,CAACG,WAAD,CAA5B;AAAA;AAAA,MAAOI,MAAP;;AACA,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;;AAEA,MAAMK,QAAQ,GAAG,SAAXA,QAAW,CAAMC,UAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAETH,MAAM,CAAC;AACZI,cAAAA,SAAS,EAAE;AACVC,gBAAAA,IAAI,EAAE;AACLC,kBAAAA,QAAQ,EAAEH,UAAU,CAACG,QADhB;AAELC,kBAAAA,QAAQ,EAAEJ,UAAU,CAACI;AAFhB;AADI;AADC,aAAD,CAFG;;AAAA;AAAA;AAAA,6CAUTR,MAAM,CAACI,UAAD,CAVG;;AAAA;AAWfF,YAAAA,QAAQ,CAAC,GAAD,CAAR;AAXe;AAAA;;AAAA;AAAA;AAAA;AAafO,YAAAA,OAAO,CAACC,GAAR;;AAbe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAiBA,SAAO,KAAC,UAAD;AAAY,IAAA,QAAQ,EAAEP;AAAtB,IAAP;AACA,CAxBD;;AA0BA,eAAeJ,MAAf","sourcesContent":["import { useMutation } from \"@apollo/client\";\nimport useSignIn from \"../../hooks/useSignIn\";\nimport SignUpForm from \"./SignUpForm\";\nimport { CREATE_USER } from '../../graphql/mutations'\nimport { useNavigate } from \"react-router-native\";\n\n\nconst SignUp = () => {\n\n\tconst [ signIn ] = useSignIn()\n\tconst [signUp] = useMutation(CREATE_USER)\n\tconst navigate = useNavigate()\n\n\tconst onSubmit = async userParams => {\n\t\ttry {\n\t\t\tawait signUp({\n\t\t\t\tvariables: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tusername: userParams.username,\n\t\t\t\t\t\tpassword: userParams.password\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t})\n\t\t\tawait signIn(userParams)\n\t\t\tnavigate('/')\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\n\treturn <SignUpForm onSubmit={onSubmit} />\n}\n\nexport default SignUp"]},"metadata":{},"sourceType":"module"}